{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "This template creates a cluster on the MongoDB Atlas API, this will be billed to your Atlas account.",
    "Parameters": {
        "ProjectName": {
            "Type": "String"
        }
    },
    "Mappings": {},
    "Resources": {
        "Cluster": {
            "Type": "MongoDB::Atlas::Cluster",
            "Properties": {
                "ProjectId": "5cf5a45a9ccf6400e60981b6",
                "Name": "test-cluster-AWS-M10",
                "NumShards": 1,
                "ProviderName": "AWS",
                "ReplicationFactor": 3,
                "ProviderBackupEnabled": false,
                "AutoScaling": {
                    "DiskGBEnabled": false
                },
                "MongoDBVersion": "4.0",
                "ProviderSettings": {
                    "EncryptEBSVolume": false,
                    "InstanceSizeName": "M10",
                    "RegionName": "EU_CENTRAL_1"
                },
                "ApiKeys": {
                    "PublicKey": "{{resolve:secretsmanager:mongodb/atlas/secrets:SecretString:AtlasMongoDBPublicKey}}",
                    "PrivateKey": "{{resolve:secretsmanager:mongodb/atlas/secrets:SecretString:AtlasMongoDBPrivateKey}}"
                }
            }
        }
    },
    "Outputs": {
        "ID": {
            "Description": "The ID of the cluster",
            "Value": {
                "Ref": "Cluster"
            }
        }
    }
}